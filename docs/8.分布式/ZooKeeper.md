
为什么服务器个数需要奇数个？

zookeeper数据是存在内存里的？

崩溃恢复的过程中，有请求过来，会怎样？

zookeeper写数据，半数以上成功，就算成功？这么搞不会出问题吗？其它暂时没成功的万一最终真的失败了咋办？

canBeReadOnly=true，3台中有2台宕机了，会怎样？

 会不会有这种情况，zk客户端会话线程没有挂，但是其他线程挂了，此时还占着锁没释放，但其实已经不能正常工作了？


怎么看当前有多少个客户端连接正在进行中？

Thread.sleep()，这是个啥状态？和阻塞有关系吗？

选举机制？

监听原理？


多个节点直接同步数据，不会有时间差吗？


会话？连接？有啥区别？



*************************************

网络通信三要素：IO，序列化，通信协议。

ZAB：Zookeeper Atomic Broadcast（Zookeeper原子广播协议）

通过help命令，查看基本的增删改查操作

节点类型：持久节点（是否带序号），临时节点（是否带序号）

非叶子节点，必须是持久节点


利用节点的dataVersion，可以实现乐观锁机制

watch的事件类型：

* 节点数据的增删改（get，stat）：NodeDeleted，NodeCreated，NodeDataChanged
* 直接子节点的增删（ls，ls2）：NodeChildrenChanged

ACL，其实就是在创建节点的时候，指定一下哪些用户，可以对这个节点进行哪些操作。

4wl：Four Letter Words



*************************************


Curator是一个ZK客户端


解决了原生Zookeeper客户端的一些问题：

不能递归创建节点

不能递归删除节点

不一定完全确保删除节点成功

一次Watcher注册，只能触发一次事件通知





























